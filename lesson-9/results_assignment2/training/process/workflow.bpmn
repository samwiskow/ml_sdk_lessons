<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <signal id="semaphore_eval_18.SF_1" name="semaphore_eval_18.SF_1"></signal>
  <signal id="semaphore_eval_18.SF_2" name="semaphore_eval_18.SF_2"></signal>
  <signal id="semaphore_eval_18.SF_3" name="semaphore_eval_18.SF_3"></signal>
  <message id="subprocessError" name="subprocessError"></message>
  <process id="eval" name="Assignment2Model" isExecutable="true">
    <startEvent id="eval_1.start" name="Start">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
      </extensionElements>
    </startEvent>
    <sequenceFlow id="eval_2.link" sourceRef="eval_1.start" targetRef="eval_2.Pmi"></sequenceFlow>
    <userTask id="eval_2.Pmi" name="Print model info" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintModelInfoTask"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}output/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_4.link" sourceRef="eval_2.Pmi" targetRef="eval_4.Red"></sequenceFlow>
    <userTask id="eval_4.Red" name="Remove empty docs" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.RemoveEmptyDocsTask"></activiti:formProperty>
        <activiti:formProperty id="documentsDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_6.link" sourceRef="eval_4.Red" targetRef="eval_6.Ctstrd"></sequenceFlow>
    <userTask id="eval_6.Ctstrd" name="Copy training set to raw dir" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
        <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/training-set/ -\u003e ${workingFolder}input/training-set-raw/&quot;}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_8.link" sourceRef="eval_6.Ctstrd" targetRef="eval_8.Pts"></sequenceFlow>
    <userTask id="eval_8.Pts" name="Preprocess training set" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.DocumentPreProcessingTask"></activiti:formProperty>
        <activiti:formProperty id="documentsDir" expression="${workingFolder}input/training-set-raw/"></activiti:formProperty>
        <activiti:formProperty id="preprocessorConfigurations" expression="[{&quot;preProcessorClassName&quot;:&quot;com.workfusion.nlp.uima.preprocessor.SpaceRemovingPreprocessor&quot;,&quot;params&quot;:{},&quot;applicableTypes&quot;:[]},{&quot;preProcessorClassName&quot;:&quot;com.workfusion.nlp.uima.preprocessor.MetaManualTagRemovingPreprocessor&quot;,&quot;params&quot;:{},&quot;applicableTypes&quot;:[]}]"></activiti:formProperty>
        <activiti:formProperty id="processedDocumentsDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_10.link" sourceRef="eval_8.Pts" targetRef="eval_10.Cpts"></sequenceFlow>
    <userTask id="eval_10.Cpts" name="Create per-tag training sets" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CreatePerTagTrainingSetsTask"></activiti:formProperty>
        <activiti:formProperty id="subModels" expression="[&quot;INFO_EXTRACTION&quot;,&quot;client_name&quot;,&quot;price&quot;,&quot;product&quot;]"></activiti:formProperty>
        <activiti:formProperty id="outputDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        <activiti:formProperty id="trainingSetDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="minDocs" expression="10"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_12.link" sourceRef="eval_10.Cpts" targetRef="eval_12.CRDtO"></sequenceFlow>
    <userTask id="eval_12.CRDtO" name="Copy Reference Data to Output" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
        <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/ref-data/ -\u003e ${workingFolder}output/resources/ref-data/&quot;},{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/resources/dictionaries/&quot;},{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/corrections/ -\u003e ${workingFolder}output/resources/corrections/&quot;},{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/resources/ -\u003e ${workingFolder}output/resources/&quot;}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_14.link" sourceRef="eval_12.CRDtO" targetRef="eval_14.Ccf"></sequenceFlow>
    <userTask id="eval_14.Ccf" name="Copy corrections files" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyCorrectionsTask"></activiti:formProperty>
        <activiti:formProperty id="inputPath" expression="${workingFolder}input/corrections/"></activiti:formProperty>
        <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/resources/corrections/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_16.link" sourceRef="eval_14.Ccf" targetRef="eval_16.Gt"></sequenceFlow>
    <userTask id="eval_16.Gt" name="Generate tokenizers" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.ie.tokenizer.GenerateTokenizersTask"></activiti:formProperty>
        <activiti:formProperty id="tokenizerOutputDir" expression="${workingFolder}work/tokenizers/"></activiti:formProperty>
        <activiti:formProperty id="trainingSetDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="goldLabelsJson" expression="[&quot;INFO_EXTRACTION&quot;,&quot;client_name&quot;,&quot;price&quot;,&quot;product&quot;]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_18.link" sourceRef="eval_16.Gt" targetRef="eval_18.SF_1.split"></sequenceFlow>
    <parallelGateway id="eval_18.SF_1.split" name="Split">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.vds.workflow.semaphore.listener.SemaphoreRegisterListener">
          <activiti:field name="semaphoreId">
            <activiti:string><![CDATA[eval_18.SF]]></activiti:string>
          </activiti:field>
          <activiti:field name="limit">
            <activiti:string><![CDATA[2147483647]]></activiti:string>
          </activiti:field>
        </activiti:executionListener>
      </extensionElements>
    </parallelGateway>
    <sequenceFlow id="eval_18.SF_2.link" sourceRef="eval_18.SF_1.split" targetRef="start_eval_18.SF.1"></sequenceFlow>
    <intermediateCatchEvent id="start_eval_18.SF.1" name="Acquire: SubModel Flow">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.vds.workflow.semaphore.listener.SemaphoreAcquireListener">
          <activiti:field name="semaphoreId">
            <activiti:string><![CDATA[eval_18.SF]]></activiti:string>
          </activiti:field>
          <activiti:field name="processId">
            <activiti:string><![CDATA[semaphore_eval_18.SF_1]]></activiti:string>
          </activiti:field>
        </activiti:executionListener>
      </extensionElements>
      <signalEventDefinition signalRef="semaphore_eval_18.SF_1"></signalEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="eval_18.SF_4.link" sourceRef="start_eval_18.SF.1" targetRef="eval_18.SF_4.Sc"></sequenceFlow>
    <subProcess id="eval_18.SF_4.Sc" name="SubModel: client_name">
      <startEvent id="eval_18.SF_4.Sc_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_18.SF_4.Sc_2.link" sourceRef="eval_18.SF_4.Sc_1.start" targetRef="eval_18.SF_4.Sc_2.ScCts"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_2.ScCts" name="SubModel: client_name: Check training set" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_4.link" sourceRef="eval_18.SF_4.Sc_2.ScCts" targetRef="eval_18.SF_4.Sc_4.Idfse"></sequenceFlow>
      <exclusiveGateway id="eval_18.SF_4.Sc_4.Idfse" name="Is docs for subModel exists"></exclusiveGateway>
      <sequenceFlow id="eval_18.SF_4.Sc_6.link" sourceRef="eval_18.SF_4.Sc_4.Idfse" targetRef="eval_18.SF_4.Sc_6.Smc">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!fieldTagsExist_client_name}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_6.Smc" name="Skip model client_name" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.common.EmptyTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <endEvent id="eval_18.SF_4.Sc_8.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_18.SF_4.Sc_9.link" sourceRef="eval_18.SF_4.Sc_6.Smc" targetRef="eval_18.SF_4.Sc_8.end"></sequenceFlow>
      <sequenceFlow id="eval_18.SF_4.Sc_10.link" sourceRef="eval_18.SF_4.Sc_4.Idfse" targetRef="eval_18.SF_4.Sc_10.ScCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist_client_name}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_10.ScCS" name="SubModel: client_name: (PE) CV Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/client_name"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/client_name/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_12.link" sourceRef="eval_18.SF_4.Sc_10.ScCS" targetRef="eval_18.SF_4.Sc_12.ScCS"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_12.ScCS" name="SubModel: client_name: (FE) CV Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/client_name"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/client_name/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_14.link" sourceRef="eval_18.SF_4.Sc_12.ScCS" targetRef="eval_18.SF_4.Sc_14.ScDhv"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_14.ScDhv" name="SubModel: client_name: Define hpoId var" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.DefineLocalVariables"></activiti:formProperty>
          <activiti:formProperty id="variables" expression="hpoId"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="value" expression="client_name"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_16.link" sourceRef="eval_18.SF_4.Sc_14.ScDhv" targetRef="eval_18.SF_4.Sc_16.ScDFv"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_16.ScDFv" name="SubModel: client_name: Define FieldInfo var" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.DefineLocalVariables"></activiti:formProperty>
          <activiti:formProperty id="variables" expression="fieldInfo"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="value" expression="{&quot;code&quot;:&quot;client_name&quot;,&quot;type&quot;:&quot;COMPANY&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_18.link" sourceRef="eval_18.SF_4.Sc_16.ScDFv" targetRef="eval_18.SF_4.Sc_18.cSHE"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_18.cSHE" name="client_name: Select HPO Experiments" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.SelectHpoExperimentsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/client_name/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;client_name&quot;,&quot;type&quot;:&quot;COMPANY&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
          <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_20.link" sourceRef="eval_18.SF_4.Sc_18.cSHE" targetRef="eval_18.SF_4.Sc_20.cSF"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_20.cSF" name="client_name: (PE) Setup Folds" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_22.link" sourceRef="eval_18.SF_4.Sc_20.cSF" targetRef="eval_18.SF_4.Sc_22.RE"></sequenceFlow>
      <subProcess id="eval_18.SF_4.Sc_22.RE" name="Run Experiments">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${client_name__experimentIds}" activiti:elementVariable="experimentId"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_18.SF_4.Sc_22.RE_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.link" sourceRef="eval_18.SF_4.Sc_22.RE_1.start" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE"></sequenceFlow>
        <subProcess id="eval_18.SF_4.Sc_22.RE_2.EhfE" name="Error handler for 'client_name: (PE) Experiment'">
          <startEvent id="eval_18.SF_4.Sc_22.RE_2.EhfE_1.start" name="Start">
            <extensionElements>
              <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
            </extensionElements>
          </startEvent>
          <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_1.start" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE"></sequenceFlow>
          <subProcess id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE" name="client_name: (PE) Experiment">
            <startEvent id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_1.start" name="Start">
              <extensionElements>
                <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
              </extensionElements>
            </startEvent>
            <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_2.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_1.start" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_2.cFE"></sequenceFlow>
            <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_2.cFE" name="client_name: (PE) Feature Extract" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
                <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder&quot;,&quot;name&quot;:&quot;client_name: (PE) Feature Extract&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;mode&quot;:&quot;TRAINING&quot;,&quot;feOutputFolder&quot;:&quot;${workingFolder}work/pre-eval/client_name/${experimentId}/features/&quot;,&quot;languageModelFolder&quot;:&quot;${workingFolder}work/pre-eval/client_name/languageModel/&quot;,&quot;feConfigFolder&quot;:&quot;${workingFolder}work/pre-eval/client_name/${experimentId}/config/&quot;,&quot;trainingSetFolder&quot;:&quot;${workingFolder}work/split/per-tag/client_name/all-files.txt&quot;,&quot;compressFeatures&quot;:&quot;true&quot;,&quot;experimentId&quot;:&quot;${experimentId}&quot;,&quot;multiDicPath&quot;:&quot;${workingFolder}input/dictionaries/&quot;,&quot;experimentConfigurationPath&quot;:&quot;${workingFolder}work/pre-eval/client_name/${experimentId}/config/parameters.json&quot;,&quot;fields&quot;:&quot;[{\&quot;code\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;type\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[{\&quot;code\&quot;:\&quot;client_name\&quot;,\&quot;type\&quot;:\&quot;COMPANY\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}}],\&quot;properties\&quot;:{}}]&quot;,&quot;resourcesDir&quot;:&quot;${workingFolder}output/resources/&quot;}}"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:4.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.extract-fe&quot;}}"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_4.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_2.cFE" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_4.cRS"></sequenceFlow>
            <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_4.cRS" name="client_name: (PE) Remap Split" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
                <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/per-tag/client_name/"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/features/"></activiti:formProperty>
                <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
                <activiti:formProperty id="targeFolder" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/split/"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_4.cRS" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF"></sequenceFlow>
            <subProcess id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF" name="client_name: Per Fold Flow">
              <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
              <startEvent id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_1.start" name="Start">
                <extensionElements>
                  <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
                </extensionElements>
              </startEvent>
              <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_2.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_1.start" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_2.cAFf"></sequenceFlow>
              <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_2.cAFf" name="client_name: (PE) Aggregate/Convert Features: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
                  <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
                  <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
                  <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/split/fold${foldNum}/trainSet.txt"></activiti:formProperty>
                  <activiti:formProperty id="experimentConfigurationPath" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/config/parameters.json"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.aggregate-fe&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_4.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_2.cAFf" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_4.cTf"></sequenceFlow>
              <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_4.cTf" name="client_name: (PE) Train: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
                  <activiti:formProperty id="isEvalMode" expression="{&quot;@type&quot;:&quot;boolean&quot;,&quot;value&quot;:true}"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
                  <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
                  <activiti:formProperty id="experimentConfigurationPath" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/config/parameters.json"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:8192,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.train&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_6.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_4.cTf" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_6.cEf"></sequenceFlow>
              <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_6.cEf" name="client_name: (PE) Evaluate: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
                  <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder&quot;,&quot;name&quot;:&quot;client_name: (PE) Evaluate: fold[${foldNum}]&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;detailedResults&quot;:&quot;${workingFolder}work/pre-eval/client_name/${experimentId}/folds/fold${foldNum}/detailed/&quot;,&quot;foldName&quot;:&quot;fold${foldNum}&quot;,&quot;fieldName&quot;:&quot;client_name&quot;,&quot;classifyDetailedResults&quot;:&quot;${experimentId}&quot;,&quot;modelFolder&quot;:&quot;${workingFolder}work/pre-eval/client_name/${experimentId}/folds/fold${foldNum}/model/&quot;,&quot;featuresFolder&quot;:&quot;${workingFolder}work/pre-eval/client_name/${experimentId}/split/fold${foldNum}/testSet.txt&quot;,&quot;experimentConfigurationPath&quot;:&quot;${workingFolder}work/pre-eval/client_name/${experimentId}/config/parameters.json&quot;}}"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.evaluate&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_8.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_6.cEf" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_8.cARf"></sequenceFlow>
              <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_8.cARf" name="client_name: (PE) Aggregate Results: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CalculateFieldResultsTask"></activiti:formProperty>
                  <activiti:formProperty id="inputFolder" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/folds/fold${foldNum}/detailed/"></activiti:formProperty>
                  <activiti:formProperty id="outputFileName" expression="evaluation-results.txt"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="outputFolder" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/folds/fold${foldNum}/results/statistics/"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <endEvent id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_10.end" name="End">
                <extensionElements>
                  <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
                </extensionElements>
              </endEvent>
              <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_11.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_8.cARf" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF_10.end"></sequenceFlow>
            </subProcess>
            <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_8.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_6.cPFF" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_8.cCOS"></sequenceFlow>
            <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_8.cCOS" name="client_name: (PE) Calc Overall Score" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/pre-eval/client_name/${experimentId}/"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <endEvent id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_10.end" name="End">
              <extensionElements>
                <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
              </extensionElements>
            </endEvent>
            <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_11.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_8.cCOS" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE_10.end"></sequenceFlow>
          </subProcess>
          <endEvent id="eval_18.SF_4.Sc_22.RE_2.EhfE_4.end" name="End">
            <extensionElements>
              <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
            </extensionElements>
          </endEvent>
          <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_5.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_4.end"></sequenceFlow>
          <boundaryEvent id="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE.error" name="ErrorSignal" attachedToRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE" cancelActivity="true">
            <messageEventDefinition messageRef="subprocessError"></messageEventDefinition>
          </boundaryEvent>
          <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_7.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_2.cE.error" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_7.cFEH"></sequenceFlow>
          <userTask id="eval_18.SF_4.Sc_22.RE_2.EhfE_7.cFEH" name="client_name: (PE) Failed Experiment Handling" activiti:candidateUsers="async-task-service">
            <extensionElements>
              <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.FailedExperimentHandlingTask"></activiti:formProperty>
              <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}"></activiti:formProperty>
              <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/client_name/"></activiti:formProperty>
            </extensionElements>
          </userTask>
          <sequenceFlow id="eval_18.SF_4.Sc_22.RE_2.EhfE_9.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE_7.cFEH" targetRef="eval_18.SF_4.Sc_22.RE_2.EhfE_4.end"></sequenceFlow>
        </subProcess>
        <sequenceFlow id="eval_18.SF_4.Sc_22.RE_4.link" sourceRef="eval_18.SF_4.Sc_22.RE_2.EhfE" targetRef="eval_18.SF_4.Sc_22.RE_4.cCER"></sequenceFlow>
        <userTask id="eval_18.SF_4.Sc_22.RE_4.cCER" name="client_name: (PE) Create Experiment Results" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.CreateExperimentResultTask"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="client_name/experiment-${experimentId}"></activiti:formProperty>
            <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/client_name/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
            <activiti:formProperty id="hpoId" expression="client_name"></activiti:formProperty>
            <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;client_name&quot;,&quot;type&quot;:&quot;COMPANY&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
            <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <endEvent id="eval_18.SF_4.Sc_22.RE_6.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
        <sequenceFlow id="eval_18.SF_4.Sc_22.RE_7.link" sourceRef="eval_18.SF_4.Sc_22.RE_4.cCER" targetRef="eval_18.SF_4.Sc_22.RE_6.end"></sequenceFlow>
      </subProcess>
      <sequenceFlow id="eval_18.SF_4.Sc_24.link" sourceRef="eval_18.SF_4.Sc_22.RE" targetRef="eval_18.SF_4.Sc_24.cCHr"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_24.cCHr" name="client_name: (PE) Check HPO results" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.CheckHpoResultsTask"></activiti:formProperty>
          <activiti:formProperty id="outputDir" expression="${workingFolder}output/model/client_name/"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/client_name/"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;client_name&quot;,&quot;type&quot;:&quot;COMPANY&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
          <activiti:formProperty id="debugMode" expression="true"></activiti:formProperty>
          <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_26.link" sourceRef="eval_18.SF_4.Sc_24.cCHr" targetRef="eval_18.SF_4.Sc_26.cIHc"></sequenceFlow>
      <exclusiveGateway id="eval_18.SF_4.Sc_26.cIHc" name="client_name: Is HPO completed"></exclusiveGateway>
      <sequenceFlow id="eval_18.SF_4.Sc_28.link" sourceRef="eval_18.SF_4.Sc_26.cIHc" targetRef="eval_18.SF_4.Sc_18.cSHE">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${isHpoCompleted == 'false'}]]></conditionExpression>
      </sequenceFlow>
      <sequenceFlow id="eval_18.SF_4.Sc_29.link" sourceRef="eval_18.SF_4.Sc_26.cIHc" targetRef="eval_18.SF_4.Sc_29.cLbei">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${isHpoCompleted == 'true'}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_29.cLbei" name="client_name: Load best experiment info" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.LoadHpoResutlsTask"></activiti:formProperty>
          <activiti:formProperty id="bestExperimentFile" expression="${workingFolder}output/model/client_name/best-experiment.txt"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/client_name/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_31.link" sourceRef="eval_18.SF_4.Sc_29.cLbei" targetRef="eval_18.SF_4.Sc_31.ScSbep"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_31.ScSbep" name="SubModel: client_name: Save best experiment params" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/client_name/${bestExperiment}/config/parameters.json"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_33.link" sourceRef="eval_18.SF_4.Sc_31.ScSbep" targetRef="eval_18.SF_4.Sc_33.ScCbep"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_33.ScCbep" name="SubModel: client_name: Copy best experiment params" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/client_name/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_35.link" sourceRef="eval_18.SF_4.Sc_33.ScCbep" targetRef="eval_18.SF_4.Sc_35.ScCh"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_35.ScCh" name="SubModel: client_name: Copy hpo-results" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/client_name/scores.csv-\u003e${workingFolder}output/hpo/client_name/scores.csv&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_37.link" sourceRef="eval_18.SF_4.Sc_35.ScCh" targetRef="eval_18.SF_4.Sc_37.ScCrto"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_37.ScCrto" name="SubModel: client_name: Copy resources to output" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_39.link" sourceRef="eval_18.SF_4.Sc_37.ScCrto" targetRef="eval_18.SF_4.Sc_39.ScFE"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_39.ScFE" name="SubModel: client_name: (FE) Feature Extract" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
          <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder&quot;,&quot;name&quot;:&quot;SubModel: client_name: (FE) Feature Extract&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;metaDataFolder&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/&quot;,&quot;sequenceOfOutcomeProcessorClassName&quot;:&quot;com.workfusion.nlp.uima.annotator.ie.sequence.SequenceOfBIESOTagsProcessor&quot;,&quot;logFePerformanceStatistics&quot;:&quot;true&quot;,&quot;feConfigFolder&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/config/&quot;,&quot;trainingSetFolder&quot;:&quot;${workingFolder}work/split/full-eval/client_name/all-files.txt&quot;,&quot;resourcesDir&quot;:&quot;${workingFolder}output/resources/&quot;,&quot;mode&quot;:&quot;TRAINING&quot;,&quot;feOutputFolder&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/features/&quot;,&quot;languageModelFolder&quot;:&quot;${workingFolder}output/model/client_name/languageModel/&quot;,&quot;paramMetaDataHandlers&quot;:null,&quot;compressFeatures&quot;:&quot;true&quot;,&quot;experimentId&quot;:&quot;${bestExperiment}&quot;,&quot;fields&quot;:&quot;[{\&quot;code\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;type\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[{\&quot;code\&quot;:\&quot;client_name\&quot;,\&quot;type\&quot;:\&quot;COMPANY\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}}],\&quot;properties\&quot;:{}}]&quot;}}"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:4.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.extract-fe&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_41.link" sourceRef="eval_18.SF_4.Sc_39.ScFE" targetRef="eval_18.SF_4.Sc_41.ScRS"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_41.ScRS" name="SubModel: client_name: (FE) Remap Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/client_name/"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_43.link" sourceRef="eval_18.SF_4.Sc_41.ScRS" targetRef="eval_18.SF_4.Sc_43.ScSF"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_43.ScSF" name="SubModel: client_name: (FE) Setup Folds" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_45.link" sourceRef="eval_18.SF_4.Sc_43.ScSF" targetRef="eval_18.SF_4.Sc_45.cFTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_18.SF_4.Sc_45.cFTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_2.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_1.split" targetRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_18.SF_4.Sc_45.cFTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_2.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_1.start" targetRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_2.cAF"></sequenceFlow>
        <userTask id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_2.cAF" name="client_name: (FE) Aggregate/Convert Features" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="client_name/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.aggregate-fe&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_4.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_2.cAF" targetRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_4.cT"></sequenceFlow>
        <userTask id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_4.cT" name="client_name: (FE) Train" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
            <activiti:formProperty id="isEvalMode" expression="false"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="client_name/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:16384,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.train&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_6.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_4.cT" targetRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_6.cE"></sequenceFlow>
        <userTask id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_6.cE" name="client_name: (FE) Evaluate" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
            <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder&quot;,&quot;name&quot;:&quot;client_name: (FE) Evaluate&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;detailedResults&quot;:&quot;${workingFolder}work/eval/evaluation-results/client_name/fold${foldNum}/&quot;,&quot;foldName&quot;:&quot;fold${foldNum}&quot;,&quot;outcomesFolder&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/outcomes/&quot;,&quot;metaDataFolder&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/&quot;,&quot;fieldName&quot;:&quot;client_name&quot;,&quot;classifyDetailedResults&quot;:&quot;${bestExperiment}&quot;,&quot;modelFolder&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/folds/fold${foldNum}/model/&quot;,&quot;featuresFolder&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt&quot;}}"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="client_name/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.evaluate&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_8.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_6.cE" targetRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_8.cAR"></sequenceFlow>
        <userTask id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_8.cAR" name="client_name: Aggregate Results" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CalculateFieldResultsTask"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/client_name/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="outputFileName" expression="evaluation-results.txt"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="client_name/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <endEvent id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
        <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_2.FEPF_11.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_8.cAR" targetRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF_10.end"></sequenceFlow>
      </subProcess>
      <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_4.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_2.FEPF" targetRef="eval_18.SF_4.Sc_45.cFTE_4.cCOS"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_45.cFTE_4.cCOS" name="client_name: (FE) Calc Overall Score" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/client_name/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_6.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_4.cCOS" targetRef="eval_18.SF_4.Sc_45.cFTE_6.cSSTT"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_45.cFTE_6.cSSTT" name="client_name: Save Stats To Tableau" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/client_name/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;wf-lab-ml-sdk-lesson-9-model:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_8.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_6.cSSTT" targetRef="eval_18.SF_4.Sc_45.cFTE_8.join"></sequenceFlow>
      <parallelGateway id="eval_18.SF_4.Sc_45.cFTE_8.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_10.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_1.split" targetRef="eval_18.SF_4.Sc_45.cFTE_10.cAACF"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_45.cFTE_10.cAACF" name="client_name: (FT) Aggregate And Convert Features" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/client_name/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-train.aggregate-fe&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_12.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_10.cAACF" targetRef="eval_18.SF_4.Sc_45.cFTE_12.cT"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_45.cFTE_12.cT" name="client_name: (FT) Train" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
          <activiti:formProperty id="isEvalMode" expression="false"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:16384,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-train.train&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_45.cFTE_14.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_12.cT" targetRef="eval_18.SF_4.Sc_45.cFTE_8.join"></sequenceFlow>
      <sequenceFlow id="eval_18.SF_4.Sc_47.link" sourceRef="eval_18.SF_4.Sc_45.cFTE_8.join" targetRef="eval_18.SF_4.Sc_47.cC"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_47.cC" name="client_name: CopyDictionary" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_49.link" sourceRef="eval_18.SF_4.Sc_47.cC" targetRef="eval_18.SF_4.Sc_49.cEPC"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_49.cEPC" name="client_name: Extraction Pipeline Creation" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="training"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName" expression="com.workfusion.nlp.uima.annotator.ie.sequence.SequenceOfBIESOTagsProcessor"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="checkerModelFolder" expression="${workingFolder}output/model/${hpoId}/checker-model/"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_51.link" sourceRef="eval_18.SF_4.Sc_49.cEPC" targetRef="eval_18.SF_4.Sc_51.cPmi"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_51.cPmi" name="client_name: Print meta information" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_53.link" sourceRef="eval_18.SF_4.Sc_51.cPmi" targetRef="eval_18.SF_4.Sc_53.ScCat"></sequenceFlow>
      <userTask id="eval_18.SF_4.Sc_53.ScCat" name="SubModel: client_name: CleanUpAndCopy avg-evaluation-results.txt" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;operation&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/client_name/avg-evaluation-results.txt&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/client_name/&quot;,&quot;executionProfile&quot;:&quot;PRODUCTION&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/client_name/${bestExperiment}/folds/&quot;,&quot;executionProfile&quot;:&quot;DEBUG&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/client_name/&quot;,&quot;executionProfile&quot;:&quot;PRODUCTION&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="client_name"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_4.Sc_55.link" sourceRef="eval_18.SF_4.Sc_53.ScCat" targetRef="eval_18.SF_4.Sc_8.end"></sequenceFlow>
    </subProcess>
    <sequenceFlow id="eval_18.SF_6.link" sourceRef="eval_18.SF_4.Sc" targetRef="finish_eval_18.SF.1"></sequenceFlow>
    <intermediateThrowEvent id="finish_eval_18.SF.1" name="Release: SubModel Flow">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.vds.workflow.semaphore.listener.SemaphoreReleaseListener">
          <activiti:field name="semaphoreId">
            <activiti:string><![CDATA[eval_18.SF]]></activiti:string>
          </activiti:field>
          <activiti:field name="processId">
            <activiti:string><![CDATA[semaphore_eval_18.SF_1]]></activiti:string>
          </activiti:field>
        </activiti:executionListener>
      </extensionElements>
      <signalEventDefinition signalRef="semaphore_eval_18.SF_1"></signalEventDefinition>
    </intermediateThrowEvent>
    <sequenceFlow id="eval_18.SF_8.link" sourceRef="finish_eval_18.SF.1" targetRef="eval_18.SF_8.join"></sequenceFlow>
    <parallelGateway id="eval_18.SF_8.join" name="Join"></parallelGateway>
    <sequenceFlow id="eval_18.SF_10.link" sourceRef="eval_18.SF_1.split" targetRef="start_eval_18.SF.2"></sequenceFlow>
    <intermediateCatchEvent id="start_eval_18.SF.2" name="Acquire: SubModel Flow">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.vds.workflow.semaphore.listener.SemaphoreAcquireListener">
          <activiti:field name="semaphoreId">
            <activiti:string><![CDATA[eval_18.SF]]></activiti:string>
          </activiti:field>
          <activiti:field name="processId">
            <activiti:string><![CDATA[semaphore_eval_18.SF_2]]></activiti:string>
          </activiti:field>
        </activiti:executionListener>
      </extensionElements>
      <signalEventDefinition signalRef="semaphore_eval_18.SF_2"></signalEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="eval_18.SF_12.link" sourceRef="start_eval_18.SF.2" targetRef="eval_18.SF_12.Sp"></sequenceFlow>
    <subProcess id="eval_18.SF_12.Sp" name="SubModel: price">
      <startEvent id="eval_18.SF_12.Sp_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_18.SF_12.Sp_2.link" sourceRef="eval_18.SF_12.Sp_1.start" targetRef="eval_18.SF_12.Sp_2.SpCts"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_2.SpCts" name="SubModel: price: Check training set" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="price"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_4.link" sourceRef="eval_18.SF_12.Sp_2.SpCts" targetRef="eval_18.SF_12.Sp_4.Idfse"></sequenceFlow>
      <exclusiveGateway id="eval_18.SF_12.Sp_4.Idfse" name="Is docs for subModel exists"></exclusiveGateway>
      <sequenceFlow id="eval_18.SF_12.Sp_6.link" sourceRef="eval_18.SF_12.Sp_4.Idfse" targetRef="eval_18.SF_12.Sp_6.Smp">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!fieldTagsExist_price}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_6.Smp" name="Skip model price" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.common.EmptyTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <endEvent id="eval_18.SF_12.Sp_8.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_18.SF_12.Sp_9.link" sourceRef="eval_18.SF_12.Sp_6.Smp" targetRef="eval_18.SF_12.Sp_8.end"></sequenceFlow>
      <sequenceFlow id="eval_18.SF_12.Sp_10.link" sourceRef="eval_18.SF_12.Sp_4.Idfse" targetRef="eval_18.SF_12.Sp_10.SpCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist_price}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_10.SpCS" name="SubModel: price: (PE) CV Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/price"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/price/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_12.link" sourceRef="eval_18.SF_12.Sp_10.SpCS" targetRef="eval_18.SF_12.Sp_12.SpCS"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_12.SpCS" name="SubModel: price: (FE) CV Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/price"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/price/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_14.link" sourceRef="eval_18.SF_12.Sp_12.SpCS" targetRef="eval_18.SF_12.Sp_14.SpDhv"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_14.SpDhv" name="SubModel: price: Define hpoId var" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.DefineLocalVariables"></activiti:formProperty>
          <activiti:formProperty id="variables" expression="hpoId"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="value" expression="price"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_16.link" sourceRef="eval_18.SF_12.Sp_14.SpDhv" targetRef="eval_18.SF_12.Sp_16.SpDFv"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_16.SpDFv" name="SubModel: price: Define FieldInfo var" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.DefineLocalVariables"></activiti:formProperty>
          <activiti:formProperty id="variables" expression="fieldInfo"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="value" expression="{&quot;code&quot;:&quot;price&quot;,&quot;type&quot;:&quot;PRICE&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_18.link" sourceRef="eval_18.SF_12.Sp_16.SpDFv" targetRef="eval_18.SF_12.Sp_18.pSHE"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_18.pSHE" name="price: Select HPO Experiments" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.SelectHpoExperimentsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/price/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="price"></activiti:formProperty>
          <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;price&quot;,&quot;type&quot;:&quot;PRICE&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
          <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_20.link" sourceRef="eval_18.SF_12.Sp_18.pSHE" targetRef="eval_18.SF_12.Sp_20.pSF"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_20.pSF" name="price: (PE) Setup Folds" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_22.link" sourceRef="eval_18.SF_12.Sp_20.pSF" targetRef="eval_18.SF_12.Sp_22.RE"></sequenceFlow>
      <subProcess id="eval_18.SF_12.Sp_22.RE" name="Run Experiments">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${price__experimentIds}" activiti:elementVariable="experimentId"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_18.SF_12.Sp_22.RE_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.link" sourceRef="eval_18.SF_12.Sp_22.RE_1.start" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE"></sequenceFlow>
        <subProcess id="eval_18.SF_12.Sp_22.RE_2.EhfE" name="Error handler for 'price: (PE) Experiment'">
          <startEvent id="eval_18.SF_12.Sp_22.RE_2.EhfE_1.start" name="Start">
            <extensionElements>
              <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
            </extensionElements>
          </startEvent>
          <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_1.start" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE"></sequenceFlow>
          <subProcess id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE" name="price: (PE) Experiment">
            <startEvent id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_1.start" name="Start">
              <extensionElements>
                <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
              </extensionElements>
            </startEvent>
            <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_2.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_1.start" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_2.pFE"></sequenceFlow>
            <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_2.pFE" name="price: (PE) Feature Extract" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
                <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder&quot;,&quot;name&quot;:&quot;price: (PE) Feature Extract&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;mode&quot;:&quot;TRAINING&quot;,&quot;feOutputFolder&quot;:&quot;${workingFolder}work/pre-eval/price/${experimentId}/features/&quot;,&quot;languageModelFolder&quot;:&quot;${workingFolder}work/pre-eval/price/languageModel/&quot;,&quot;feConfigFolder&quot;:&quot;${workingFolder}work/pre-eval/price/${experimentId}/config/&quot;,&quot;trainingSetFolder&quot;:&quot;${workingFolder}work/split/per-tag/price/all-files.txt&quot;,&quot;compressFeatures&quot;:&quot;true&quot;,&quot;experimentId&quot;:&quot;${experimentId}&quot;,&quot;multiDicPath&quot;:&quot;${workingFolder}input/dictionaries/&quot;,&quot;experimentConfigurationPath&quot;:&quot;${workingFolder}work/pre-eval/price/${experimentId}/config/parameters.json&quot;,&quot;fields&quot;:&quot;[{\&quot;code\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;type\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[{\&quot;code\&quot;:\&quot;price\&quot;,\&quot;type\&quot;:\&quot;PRICE\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:true,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}}],\&quot;properties\&quot;:{}}]&quot;,&quot;resourcesDir&quot;:&quot;${workingFolder}output/resources/&quot;}}"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="price/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:4.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.extract-fe&quot;}}"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_4.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_2.pFE" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_4.pRS"></sequenceFlow>
            <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_4.pRS" name="price: (PE) Remap Split" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
                <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/per-tag/price/"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="price/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/pre-eval/price/${experimentId}/features/"></activiti:formProperty>
                <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
                <activiti:formProperty id="targeFolder" expression="${workingFolder}work/pre-eval/price/${experimentId}/split/"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_4.pRS" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF"></sequenceFlow>
            <subProcess id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF" name="price: Per Fold Flow">
              <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
              <startEvent id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_1.start" name="Start">
                <extensionElements>
                  <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
                </extensionElements>
              </startEvent>
              <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_1.start" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.pAFf"></sequenceFlow>
              <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.pAFf" name="price: (PE) Aggregate/Convert Features: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="price/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
                  <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/price/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
                  <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
                  <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/pre-eval/price/${experimentId}/split/fold${foldNum}/trainSet.txt"></activiti:formProperty>
                  <activiti:formProperty id="experimentConfigurationPath" expression="${workingFolder}work/pre-eval/price/${experimentId}/config/parameters.json"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.aggregate-fe&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.pAFf" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.pTf"></sequenceFlow>
              <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.pTf" name="price: (PE) Train: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
                  <activiti:formProperty id="isEvalMode" expression="{&quot;@type&quot;:&quot;boolean&quot;,&quot;value&quot;:true}"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="price/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
                  <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/price/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
                  <activiti:formProperty id="experimentConfigurationPath" expression="${workingFolder}work/pre-eval/price/${experimentId}/config/parameters.json"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:8192,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.train&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.pTf" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.pEf"></sequenceFlow>
              <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.pEf" name="price: (PE) Evaluate: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
                  <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder&quot;,&quot;name&quot;:&quot;price: (PE) Evaluate: fold[${foldNum}]&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;detailedResults&quot;:&quot;${workingFolder}work/pre-eval/price/${experimentId}/folds/fold${foldNum}/detailed/&quot;,&quot;foldName&quot;:&quot;fold${foldNum}&quot;,&quot;fieldName&quot;:&quot;price&quot;,&quot;classifyDetailedResults&quot;:&quot;${experimentId}&quot;,&quot;modelFolder&quot;:&quot;${workingFolder}work/pre-eval/price/${experimentId}/folds/fold${foldNum}/model/&quot;,&quot;featuresFolder&quot;:&quot;${workingFolder}work/pre-eval/price/${experimentId}/split/fold${foldNum}/testSet.txt&quot;,&quot;experimentConfigurationPath&quot;:&quot;${workingFolder}work/pre-eval/price/${experimentId}/config/parameters.json&quot;}}"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="price/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.evaluate&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.pEf" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.pARf"></sequenceFlow>
              <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.pARf" name="price: (PE) Aggregate Results: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CalculateFieldResultsTask"></activiti:formProperty>
                  <activiti:formProperty id="inputFolder" expression="${workingFolder}work/pre-eval/price/${experimentId}/folds/fold${foldNum}/detailed/"></activiti:formProperty>
                  <activiti:formProperty id="outputFileName" expression="evaluation-results.txt"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="price/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="outputFolder" expression="${workingFolder}work/pre-eval/price/${experimentId}/folds/fold${foldNum}/results/statistics/"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <endEvent id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_10.end" name="End">
                <extensionElements>
                  <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
                </extensionElements>
              </endEvent>
              <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_11.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.pARf" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF_10.end"></sequenceFlow>
            </subProcess>
            <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_8.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_6.pPFF" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_8.pCOS"></sequenceFlow>
            <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_8.pCOS" name="price: (PE) Calc Overall Score" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="price/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/pre-eval/price/${experimentId}/"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <endEvent id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_10.end" name="End">
              <extensionElements>
                <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
              </extensionElements>
            </endEvent>
            <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_11.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_8.pCOS" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE_10.end"></sequenceFlow>
          </subProcess>
          <endEvent id="eval_18.SF_12.Sp_22.RE_2.EhfE_4.end" name="End">
            <extensionElements>
              <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
            </extensionElements>
          </endEvent>
          <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_5.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_4.end"></sequenceFlow>
          <boundaryEvent id="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE.error" name="ErrorSignal" attachedToRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE" cancelActivity="true">
            <messageEventDefinition messageRef="subprocessError"></messageEventDefinition>
          </boundaryEvent>
          <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_7.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_2.pE.error" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_7.pFEH"></sequenceFlow>
          <userTask id="eval_18.SF_12.Sp_22.RE_2.EhfE_7.pFEH" name="price: (PE) Failed Experiment Handling" activiti:candidateUsers="async-task-service">
            <extensionElements>
              <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.FailedExperimentHandlingTask"></activiti:formProperty>
              <activiti:formProperty id="_context" expression="price/experiment-${experimentId}"></activiti:formProperty>
              <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/price/"></activiti:formProperty>
            </extensionElements>
          </userTask>
          <sequenceFlow id="eval_18.SF_12.Sp_22.RE_2.EhfE_9.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE_7.pFEH" targetRef="eval_18.SF_12.Sp_22.RE_2.EhfE_4.end"></sequenceFlow>
        </subProcess>
        <sequenceFlow id="eval_18.SF_12.Sp_22.RE_4.link" sourceRef="eval_18.SF_12.Sp_22.RE_2.EhfE" targetRef="eval_18.SF_12.Sp_22.RE_4.pCER"></sequenceFlow>
        <userTask id="eval_18.SF_12.Sp_22.RE_4.pCER" name="price: (PE) Create Experiment Results" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.CreateExperimentResultTask"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="price/experiment-${experimentId}"></activiti:formProperty>
            <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/price/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
            <activiti:formProperty id="hpoId" expression="price"></activiti:formProperty>
            <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;price&quot;,&quot;type&quot;:&quot;PRICE&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
            <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <endEvent id="eval_18.SF_12.Sp_22.RE_6.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
        <sequenceFlow id="eval_18.SF_12.Sp_22.RE_7.link" sourceRef="eval_18.SF_12.Sp_22.RE_4.pCER" targetRef="eval_18.SF_12.Sp_22.RE_6.end"></sequenceFlow>
      </subProcess>
      <sequenceFlow id="eval_18.SF_12.Sp_24.link" sourceRef="eval_18.SF_12.Sp_22.RE" targetRef="eval_18.SF_12.Sp_24.pCHr"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_24.pCHr" name="price: (PE) Check HPO results" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.CheckHpoResultsTask"></activiti:formProperty>
          <activiti:formProperty id="outputDir" expression="${workingFolder}output/model/price/"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/price/"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="price"></activiti:formProperty>
          <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;price&quot;,&quot;type&quot;:&quot;PRICE&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
          <activiti:formProperty id="debugMode" expression="true"></activiti:formProperty>
          <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_26.link" sourceRef="eval_18.SF_12.Sp_24.pCHr" targetRef="eval_18.SF_12.Sp_26.pIHc"></sequenceFlow>
      <exclusiveGateway id="eval_18.SF_12.Sp_26.pIHc" name="price: Is HPO completed"></exclusiveGateway>
      <sequenceFlow id="eval_18.SF_12.Sp_28.link" sourceRef="eval_18.SF_12.Sp_26.pIHc" targetRef="eval_18.SF_12.Sp_18.pSHE">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${isHpoCompleted == 'false'}]]></conditionExpression>
      </sequenceFlow>
      <sequenceFlow id="eval_18.SF_12.Sp_29.link" sourceRef="eval_18.SF_12.Sp_26.pIHc" targetRef="eval_18.SF_12.Sp_29.pLbei">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${isHpoCompleted == 'true'}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_29.pLbei" name="price: Load best experiment info" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.LoadHpoResutlsTask"></activiti:formProperty>
          <activiti:formProperty id="bestExperimentFile" expression="${workingFolder}output/model/price/best-experiment.txt"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/price/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_31.link" sourceRef="eval_18.SF_12.Sp_29.pLbei" targetRef="eval_18.SF_12.Sp_31.SpSbep"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_31.SpSbep" name="SubModel: price: Save best experiment params" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/price/${bestExperiment}/config/parameters.json"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_33.link" sourceRef="eval_18.SF_12.Sp_31.SpSbep" targetRef="eval_18.SF_12.Sp_33.SpCbep"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_33.SpCbep" name="SubModel: price: Copy best experiment params" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/price/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_35.link" sourceRef="eval_18.SF_12.Sp_33.SpCbep" targetRef="eval_18.SF_12.Sp_35.SpCh"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_35.SpCh" name="SubModel: price: Copy hpo-results" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/price/scores.csv-\u003e${workingFolder}output/hpo/price/scores.csv&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_37.link" sourceRef="eval_18.SF_12.Sp_35.SpCh" targetRef="eval_18.SF_12.Sp_37.SpCrto"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_37.SpCrto" name="SubModel: price: Copy resources to output" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_39.link" sourceRef="eval_18.SF_12.Sp_37.SpCrto" targetRef="eval_18.SF_12.Sp_39.SpFE"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_39.SpFE" name="SubModel: price: (FE) Feature Extract" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
          <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder&quot;,&quot;name&quot;:&quot;SubModel: price: (FE) Feature Extract&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;metaDataFolder&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/&quot;,&quot;sequenceOfOutcomeProcessorClassName&quot;:&quot;com.workfusion.nlp.uima.annotator.ie.sequence.SequenceOfBIESOTagsProcessor&quot;,&quot;logFePerformanceStatistics&quot;:&quot;true&quot;,&quot;feConfigFolder&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/config/&quot;,&quot;trainingSetFolder&quot;:&quot;${workingFolder}work/split/full-eval/price/all-files.txt&quot;,&quot;resourcesDir&quot;:&quot;${workingFolder}output/resources/&quot;,&quot;mode&quot;:&quot;TRAINING&quot;,&quot;feOutputFolder&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/features/&quot;,&quot;languageModelFolder&quot;:&quot;${workingFolder}output/model/price/languageModel/&quot;,&quot;paramMetaDataHandlers&quot;:null,&quot;compressFeatures&quot;:&quot;true&quot;,&quot;experimentId&quot;:&quot;${bestExperiment}&quot;,&quot;fields&quot;:&quot;[{\&quot;code\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;type\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[{\&quot;code\&quot;:\&quot;price\&quot;,\&quot;type\&quot;:\&quot;PRICE\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:true,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}}],\&quot;properties\&quot;:{}}]&quot;}}"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:4.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.extract-fe&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_41.link" sourceRef="eval_18.SF_12.Sp_39.SpFE" targetRef="eval_18.SF_12.Sp_41.SpRS"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_41.SpRS" name="SubModel: price: (FE) Remap Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/price/"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_43.link" sourceRef="eval_18.SF_12.Sp_41.SpRS" targetRef="eval_18.SF_12.Sp_43.SpSF"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_43.SpSF" name="SubModel: price: (FE) Setup Folds" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_45.link" sourceRef="eval_18.SF_12.Sp_43.SpSF" targetRef="eval_18.SF_12.Sp_45.pFTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_18.SF_12.Sp_45.pFTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_2.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_1.split" targetRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_18.SF_12.Sp_45.pFTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_2.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_1.start" targetRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_2.pAF"></sequenceFlow>
        <userTask id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_2.pAF" name="price: (FE) Aggregate/Convert Features" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="price/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.aggregate-fe&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_4.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_2.pAF" targetRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_4.pT"></sequenceFlow>
        <userTask id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_4.pT" name="price: (FE) Train" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
            <activiti:formProperty id="isEvalMode" expression="false"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="price/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:16384,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.train&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_6.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_4.pT" targetRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_6.pE"></sequenceFlow>
        <userTask id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_6.pE" name="price: (FE) Evaluate" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
            <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder&quot;,&quot;name&quot;:&quot;price: (FE) Evaluate&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;detailedResults&quot;:&quot;${workingFolder}work/eval/evaluation-results/price/fold${foldNum}/&quot;,&quot;foldName&quot;:&quot;fold${foldNum}&quot;,&quot;outcomesFolder&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/outcomes/&quot;,&quot;metaDataFolder&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/&quot;,&quot;fieldName&quot;:&quot;price&quot;,&quot;classifyDetailedResults&quot;:&quot;${bestExperiment}&quot;,&quot;modelFolder&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/folds/fold${foldNum}/model/&quot;,&quot;featuresFolder&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt&quot;}}"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="price/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.evaluate&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_8.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_6.pE" targetRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_8.pAR"></sequenceFlow>
        <userTask id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_8.pAR" name="price: Aggregate Results" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CalculateFieldResultsTask"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/price/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="outputFileName" expression="evaluation-results.txt"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="price/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <endEvent id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
        <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_2.FEPF_11.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_8.pAR" targetRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF_10.end"></sequenceFlow>
      </subProcess>
      <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_4.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_2.FEPF" targetRef="eval_18.SF_12.Sp_45.pFTE_4.pCOS"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_45.pFTE_4.pCOS" name="price: (FE) Calc Overall Score" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/price/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_6.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_4.pCOS" targetRef="eval_18.SF_12.Sp_45.pFTE_6.pSSTT"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_45.pFTE_6.pSSTT" name="price: Save Stats To Tableau" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="price"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/price/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;wf-lab-ml-sdk-lesson-9-model:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_8.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_6.pSSTT" targetRef="eval_18.SF_12.Sp_45.pFTE_8.join"></sequenceFlow>
      <parallelGateway id="eval_18.SF_12.Sp_45.pFTE_8.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_10.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_1.split" targetRef="eval_18.SF_12.Sp_45.pFTE_10.pAACF"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_45.pFTE_10.pAACF" name="price: (FT) Aggregate And Convert Features" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/price/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-train.aggregate-fe&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_12.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_10.pAACF" targetRef="eval_18.SF_12.Sp_45.pFTE_12.pT"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_45.pFTE_12.pT" name="price: (FT) Train" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
          <activiti:formProperty id="isEvalMode" expression="false"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:16384,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-train.train&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_45.pFTE_14.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_12.pT" targetRef="eval_18.SF_12.Sp_45.pFTE_8.join"></sequenceFlow>
      <sequenceFlow id="eval_18.SF_12.Sp_47.link" sourceRef="eval_18.SF_12.Sp_45.pFTE_8.join" targetRef="eval_18.SF_12.Sp_47.pC"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_47.pC" name="price: CopyDictionary" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_49.link" sourceRef="eval_18.SF_12.Sp_47.pC" targetRef="eval_18.SF_12.Sp_49.pEPC"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_49.pEPC" name="price: Extraction Pipeline Creation" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="training"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName" expression="com.workfusion.nlp.uima.annotator.ie.sequence.SequenceOfBIESOTagsProcessor"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="checkerModelFolder" expression="${workingFolder}output/model/${hpoId}/checker-model/"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_51.link" sourceRef="eval_18.SF_12.Sp_49.pEPC" targetRef="eval_18.SF_12.Sp_51.pPmi"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_51.pPmi" name="price: Print meta information" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_53.link" sourceRef="eval_18.SF_12.Sp_51.pPmi" targetRef="eval_18.SF_12.Sp_53.SpCat"></sequenceFlow>
      <userTask id="eval_18.SF_12.Sp_53.SpCat" name="SubModel: price: CleanUpAndCopy avg-evaluation-results.txt" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;operation&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/price/avg-evaluation-results.txt&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/price/&quot;,&quot;executionProfile&quot;:&quot;PRODUCTION&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/price/${bestExperiment}/folds/&quot;,&quot;executionProfile&quot;:&quot;DEBUG&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/price/&quot;,&quot;executionProfile&quot;:&quot;PRODUCTION&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="price"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_12.Sp_55.link" sourceRef="eval_18.SF_12.Sp_53.SpCat" targetRef="eval_18.SF_12.Sp_8.end"></sequenceFlow>
    </subProcess>
    <sequenceFlow id="eval_18.SF_14.link" sourceRef="eval_18.SF_12.Sp" targetRef="finish_eval_18.SF.2"></sequenceFlow>
    <intermediateThrowEvent id="finish_eval_18.SF.2" name="Release: SubModel Flow">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.vds.workflow.semaphore.listener.SemaphoreReleaseListener">
          <activiti:field name="semaphoreId">
            <activiti:string><![CDATA[eval_18.SF]]></activiti:string>
          </activiti:field>
          <activiti:field name="processId">
            <activiti:string><![CDATA[semaphore_eval_18.SF_2]]></activiti:string>
          </activiti:field>
        </activiti:executionListener>
      </extensionElements>
      <signalEventDefinition signalRef="semaphore_eval_18.SF_2"></signalEventDefinition>
    </intermediateThrowEvent>
    <sequenceFlow id="eval_18.SF_16.link" sourceRef="finish_eval_18.SF.2" targetRef="eval_18.SF_8.join"></sequenceFlow>
    <sequenceFlow id="eval_18.SF_17.link" sourceRef="eval_18.SF_1.split" targetRef="start_eval_18.SF.3"></sequenceFlow>
    <intermediateCatchEvent id="start_eval_18.SF.3" name="Acquire: SubModel Flow">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.vds.workflow.semaphore.listener.SemaphoreAcquireListener">
          <activiti:field name="semaphoreId">
            <activiti:string><![CDATA[eval_18.SF]]></activiti:string>
          </activiti:field>
          <activiti:field name="processId">
            <activiti:string><![CDATA[semaphore_eval_18.SF_3]]></activiti:string>
          </activiti:field>
        </activiti:executionListener>
      </extensionElements>
      <signalEventDefinition signalRef="semaphore_eval_18.SF_3"></signalEventDefinition>
    </intermediateCatchEvent>
    <sequenceFlow id="eval_18.SF_19.link" sourceRef="start_eval_18.SF.3" targetRef="eval_18.SF_19.Sp"></sequenceFlow>
    <subProcess id="eval_18.SF_19.Sp" name="SubModel: product">
      <startEvent id="eval_18.SF_19.Sp_1.start" name="Start">
        <extensionElements>
          <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
        </extensionElements>
      </startEvent>
      <sequenceFlow id="eval_18.SF_19.Sp_2.link" sourceRef="eval_18.SF_19.Sp_1.start" targetRef="eval_18.SF_19.Sp_2.SpCts"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_2.SpCts" name="SubModel: product: Check training set" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tag.CheckTrainingSetTask"></activiti:formProperty>
          <activiti:formProperty id="fieldName" expression="product"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="splitByTagDir" expression="${workingFolder}work/training-set-bytag/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_4.link" sourceRef="eval_18.SF_19.Sp_2.SpCts" targetRef="eval_18.SF_19.Sp_4.Idfse"></sequenceFlow>
      <exclusiveGateway id="eval_18.SF_19.Sp_4.Idfse" name="Is docs for subModel exists"></exclusiveGateway>
      <sequenceFlow id="eval_18.SF_19.Sp_6.link" sourceRef="eval_18.SF_19.Sp_4.Idfse" targetRef="eval_18.SF_19.Sp_6.Smp">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${!fieldTagsExist_product}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_6.Smp" name="Skip model product" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.common.EmptyTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <endEvent id="eval_18.SF_19.Sp_8.end" name="End">
        <extensionElements>
          <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
        </extensionElements>
      </endEvent>
      <sequenceFlow id="eval_18.SF_19.Sp_9.link" sourceRef="eval_18.SF_19.Sp_6.Smp" targetRef="eval_18.SF_19.Sp_8.end"></sequenceFlow>
      <sequenceFlow id="eval_18.SF_19.Sp_10.link" sourceRef="eval_18.SF_19.Sp_4.Idfse" targetRef="eval_18.SF_19.Sp_10.SpCS">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${fieldTagsExist_product}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_10.SpCS" name="SubModel: product: (PE) CV Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/product"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="true"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/per-tag/product/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_12.link" sourceRef="eval_18.SF_19.Sp_10.SpCS" targetRef="eval_18.SF_19.Sp_12.SpCS"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_12.SpCS" name="SubModel: product: (FE) CV Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CrossValidationSplitTask"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/training-set-bytag/product"></activiti:formProperty>
          <activiti:formProperty id="numFolds" expression="5"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="useBootstrap" expression="false"></activiti:formProperty>
          <activiti:formProperty id="splitOutputFolder" expression="${workingFolder}work/split/full-eval/product/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_14.link" sourceRef="eval_18.SF_19.Sp_12.SpCS" targetRef="eval_18.SF_19.Sp_14.SpDhv"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_14.SpDhv" name="SubModel: product: Define hpoId var" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.DefineLocalVariables"></activiti:formProperty>
          <activiti:formProperty id="variables" expression="hpoId"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="value" expression="product"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_16.link" sourceRef="eval_18.SF_19.Sp_14.SpDhv" targetRef="eval_18.SF_19.Sp_16.SpDFv"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_16.SpDFv" name="SubModel: product: Define FieldInfo var" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.DefineLocalVariables"></activiti:formProperty>
          <activiti:formProperty id="variables" expression="fieldInfo"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="value" expression="{&quot;code&quot;:&quot;product&quot;,&quot;type&quot;:&quot;LABEL&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_18.link" sourceRef="eval_18.SF_19.Sp_16.SpDFv" targetRef="eval_18.SF_19.Sp_18.pSHE"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_18.pSHE" name="product: Select HPO Experiments" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.SelectHpoExperimentsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/product/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="product"></activiti:formProperty>
          <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;product&quot;,&quot;type&quot;:&quot;LABEL&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
          <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_20.link" sourceRef="eval_18.SF_19.Sp_18.pSHE" targetRef="eval_18.SF_19.Sp_20.pSF"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_20.pSF" name="product: (PE) Setup Folds" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_22.link" sourceRef="eval_18.SF_19.Sp_20.pSF" targetRef="eval_18.SF_19.Sp_22.RE"></sequenceFlow>
      <subProcess id="eval_18.SF_19.Sp_22.RE" name="Run Experiments">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${product__experimentIds}" activiti:elementVariable="experimentId"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_18.SF_19.Sp_22.RE_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.link" sourceRef="eval_18.SF_19.Sp_22.RE_1.start" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE"></sequenceFlow>
        <subProcess id="eval_18.SF_19.Sp_22.RE_2.EhfE" name="Error handler for 'product: (PE) Experiment'">
          <startEvent id="eval_18.SF_19.Sp_22.RE_2.EhfE_1.start" name="Start">
            <extensionElements>
              <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
            </extensionElements>
          </startEvent>
          <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_1.start" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE"></sequenceFlow>
          <subProcess id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE" name="product: (PE) Experiment">
            <startEvent id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_1.start" name="Start">
              <extensionElements>
                <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
              </extensionElements>
            </startEvent>
            <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_2.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_1.start" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_2.pFE"></sequenceFlow>
            <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_2.pFE" name="product: (PE) Feature Extract" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
                <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder&quot;,&quot;name&quot;:&quot;product: (PE) Feature Extract&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;mode&quot;:&quot;TRAINING&quot;,&quot;feOutputFolder&quot;:&quot;${workingFolder}work/pre-eval/product/${experimentId}/features/&quot;,&quot;languageModelFolder&quot;:&quot;${workingFolder}work/pre-eval/product/languageModel/&quot;,&quot;feConfigFolder&quot;:&quot;${workingFolder}work/pre-eval/product/${experimentId}/config/&quot;,&quot;trainingSetFolder&quot;:&quot;${workingFolder}work/split/per-tag/product/all-files.txt&quot;,&quot;compressFeatures&quot;:&quot;true&quot;,&quot;experimentId&quot;:&quot;${experimentId}&quot;,&quot;multiDicPath&quot;:&quot;${workingFolder}input/dictionaries/&quot;,&quot;experimentConfigurationPath&quot;:&quot;${workingFolder}work/pre-eval/product/${experimentId}/config/parameters.json&quot;,&quot;fields&quot;:&quot;[{\&quot;code\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;type\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[{\&quot;code\&quot;:\&quot;product\&quot;,\&quot;type\&quot;:\&quot;LABEL\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:true,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}}],\&quot;properties\&quot;:{}}]&quot;,&quot;resourcesDir&quot;:&quot;${workingFolder}output/resources/&quot;}}"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="product/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:4.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.extract-fe&quot;}}"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_4.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_2.pFE" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_4.pRS"></sequenceFlow>
            <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_4.pRS" name="product: (PE) Remap Split" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
                <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/per-tag/product/"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="product/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/pre-eval/product/${experimentId}/features/"></activiti:formProperty>
                <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
                <activiti:formProperty id="targeFolder" expression="${workingFolder}work/pre-eval/product/${experimentId}/split/"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_4.pRS" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF"></sequenceFlow>
            <subProcess id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF" name="product: Per Fold Flow">
              <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
              <startEvent id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_1.start" name="Start">
                <extensionElements>
                  <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
                </extensionElements>
              </startEvent>
              <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_1.start" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.pAFf"></sequenceFlow>
              <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.pAFf" name="product: (PE) Aggregate/Convert Features: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="product/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
                  <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/product/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
                  <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
                  <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/pre-eval/product/${experimentId}/split/fold${foldNum}/trainSet.txt"></activiti:formProperty>
                  <activiti:formProperty id="experimentConfigurationPath" expression="${workingFolder}work/pre-eval/product/${experimentId}/config/parameters.json"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.aggregate-fe&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_2.pAFf" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.pTf"></sequenceFlow>
              <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.pTf" name="product: (PE) Train: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
                  <activiti:formProperty id="isEvalMode" expression="{&quot;@type&quot;:&quot;boolean&quot;,&quot;value&quot;:true}"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="product/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
                  <activiti:formProperty id="modelFolder" expression="${workingFolder}work/pre-eval/product/${experimentId}/folds/fold${foldNum}/model/"></activiti:formProperty>
                  <activiti:formProperty id="experimentConfigurationPath" expression="${workingFolder}work/pre-eval/product/${experimentId}/config/parameters.json"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:8192,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.train&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_4.pTf" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.pEf"></sequenceFlow>
              <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.pEf" name="product: (PE) Evaluate: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
                  <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder&quot;,&quot;name&quot;:&quot;product: (PE) Evaluate: fold[${foldNum}]&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;detailedResults&quot;:&quot;${workingFolder}work/pre-eval/product/${experimentId}/folds/fold${foldNum}/detailed/&quot;,&quot;foldName&quot;:&quot;fold${foldNum}&quot;,&quot;fieldName&quot;:&quot;product&quot;,&quot;classifyDetailedResults&quot;:&quot;${experimentId}&quot;,&quot;modelFolder&quot;:&quot;${workingFolder}work/pre-eval/product/${experimentId}/folds/fold${foldNum}/model/&quot;,&quot;featuresFolder&quot;:&quot;${workingFolder}work/pre-eval/product/${experimentId}/split/fold${foldNum}/testSet.txt&quot;,&quot;experimentConfigurationPath&quot;:&quot;${workingFolder}work/pre-eval/product/${experimentId}/config/parameters.json&quot;}}"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="product/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.pre-eval.evaluate&quot;}}"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_6.pEf" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.pARf"></sequenceFlow>
              <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.pARf" name="product: (PE) Aggregate Results: fold[${foldNum}]" activiti:candidateUsers="async-task-service">
                <extensionElements>
                  <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CalculateFieldResultsTask"></activiti:formProperty>
                  <activiti:formProperty id="inputFolder" expression="${workingFolder}work/pre-eval/product/${experimentId}/folds/fold${foldNum}/detailed/"></activiti:formProperty>
                  <activiti:formProperty id="outputFileName" expression="evaluation-results.txt"></activiti:formProperty>
                  <activiti:formProperty id="_context" expression="product/experiment-${experimentId}/fold-${foldNum}"></activiti:formProperty>
                  <activiti:formProperty id="outputFolder" expression="${workingFolder}work/pre-eval/product/${experimentId}/folds/fold${foldNum}/results/statistics/"></activiti:formProperty>
                </extensionElements>
              </userTask>
              <endEvent id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_10.end" name="End">
                <extensionElements>
                  <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
                </extensionElements>
              </endEvent>
              <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_11.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_8.pARf" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF_10.end"></sequenceFlow>
            </subProcess>
            <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_8.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_6.pPFF" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_8.pCOS"></sequenceFlow>
            <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_8.pCOS" name="product: (PE) Calc Overall Score" activiti:candidateUsers="async-task-service">
              <extensionElements>
                <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
                <activiti:formProperty id="_context" expression="product/experiment-${experimentId}"></activiti:formProperty>
                <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/pre-eval/product/${experimentId}/"></activiti:formProperty>
              </extensionElements>
            </userTask>
            <endEvent id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_10.end" name="End">
              <extensionElements>
                <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
              </extensionElements>
            </endEvent>
            <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_11.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_8.pCOS" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE_10.end"></sequenceFlow>
          </subProcess>
          <endEvent id="eval_18.SF_19.Sp_22.RE_2.EhfE_4.end" name="End">
            <extensionElements>
              <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
            </extensionElements>
          </endEvent>
          <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_5.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_4.end"></sequenceFlow>
          <boundaryEvent id="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE.error" name="ErrorSignal" attachedToRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE" cancelActivity="true">
            <messageEventDefinition messageRef="subprocessError"></messageEventDefinition>
          </boundaryEvent>
          <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_7.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_2.pE.error" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_7.pFEH"></sequenceFlow>
          <userTask id="eval_18.SF_19.Sp_22.RE_2.EhfE_7.pFEH" name="product: (PE) Failed Experiment Handling" activiti:candidateUsers="async-task-service">
            <extensionElements>
              <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.FailedExperimentHandlingTask"></activiti:formProperty>
              <activiti:formProperty id="_context" expression="product/experiment-${experimentId}"></activiti:formProperty>
              <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/product/"></activiti:formProperty>
            </extensionElements>
          </userTask>
          <sequenceFlow id="eval_18.SF_19.Sp_22.RE_2.EhfE_9.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE_7.pFEH" targetRef="eval_18.SF_19.Sp_22.RE_2.EhfE_4.end"></sequenceFlow>
        </subProcess>
        <sequenceFlow id="eval_18.SF_19.Sp_22.RE_4.link" sourceRef="eval_18.SF_19.Sp_22.RE_2.EhfE" targetRef="eval_18.SF_19.Sp_22.RE_4.pCER"></sequenceFlow>
        <userTask id="eval_18.SF_19.Sp_22.RE_4.pCER" name="product: (PE) Create Experiment Results" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.CreateExperimentResultTask"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="product/experiment-${experimentId}"></activiti:formProperty>
            <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/product/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${experimentId}"></activiti:formProperty>
            <activiti:formProperty id="hpoId" expression="product"></activiti:formProperty>
            <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;product&quot;,&quot;type&quot;:&quot;LABEL&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
            <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <endEvent id="eval_18.SF_19.Sp_22.RE_6.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
        <sequenceFlow id="eval_18.SF_19.Sp_22.RE_7.link" sourceRef="eval_18.SF_19.Sp_22.RE_4.pCER" targetRef="eval_18.SF_19.Sp_22.RE_6.end"></sequenceFlow>
      </subProcess>
      <sequenceFlow id="eval_18.SF_19.Sp_24.link" sourceRef="eval_18.SF_19.Sp_22.RE" targetRef="eval_18.SF_19.Sp_24.pCHr"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_24.pCHr" name="product: (PE) Check HPO results" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.workflow.task.hpo.CheckHpoResultsTask"></activiti:formProperty>
          <activiti:formProperty id="outputDir" expression="${workingFolder}output/model/product/"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/product/"></activiti:formProperty>
          <activiti:formProperty id="hpoSerializationFolder" expression="${workingFolder}work/.hpo_params/"></activiti:formProperty>
          <activiti:formProperty id="hpoId" expression="product"></activiti:formProperty>
          <activiti:formProperty id="fieldInfo" expression="{&quot;code&quot;:&quot;product&quot;,&quot;type&quot;:&quot;LABEL&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}"></activiti:formProperty>
          <activiti:formProperty id="debugMode" expression="true"></activiti:formProperty>
          <activiti:formProperty id="hyperModelClass" expression="com.workfusion.lab.lesson9.model.Assignment2Model"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_26.link" sourceRef="eval_18.SF_19.Sp_24.pCHr" targetRef="eval_18.SF_19.Sp_26.pIHc"></sequenceFlow>
      <exclusiveGateway id="eval_18.SF_19.Sp_26.pIHc" name="product: Is HPO completed"></exclusiveGateway>
      <sequenceFlow id="eval_18.SF_19.Sp_28.link" sourceRef="eval_18.SF_19.Sp_26.pIHc" targetRef="eval_18.SF_19.Sp_18.pSHE">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${isHpoCompleted == 'false'}]]></conditionExpression>
      </sequenceFlow>
      <sequenceFlow id="eval_18.SF_19.Sp_29.link" sourceRef="eval_18.SF_19.Sp_26.pIHc" targetRef="eval_18.SF_19.Sp_29.pLbei">
        <conditionExpression xsi:type="tFormalExpression"><![CDATA[${isHpoCompleted == 'true'}]]></conditionExpression>
      </sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_29.pLbei" name="product: Load best experiment info" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.hpo.LoadHpoResutlsTask"></activiti:formProperty>
          <activiti:formProperty id="bestExperimentFile" expression="${workingFolder}output/model/product/best-experiment.txt"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="workingDir" expression="${workingFolder}work/pre-eval/product/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_31.link" sourceRef="eval_18.SF_19.Sp_29.pLbei" targetRef="eval_18.SF_19.Sp_31.SpSbep"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_31.SpSbep" name="SubModel: product: Save best experiment params" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveExperimentParamsTask"></activiti:formProperty>
          <activiti:formProperty id="outputFile" expression="${workingFolder}work/eval/product/${bestExperiment}/config/parameters.json"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_33.link" sourceRef="eval_18.SF_19.Sp_31.SpSbep" targetRef="eval_18.SF_19.Sp_33.SpCbep"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_33.SpCbep" name="SubModel: product: Copy best experiment params" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/product/best-experiment.config -\u003e ${workingFolder}output/hpo-config/${hpoId}/best-experiment.config&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_35.link" sourceRef="eval_18.SF_19.Sp_33.SpCbep" targetRef="eval_18.SF_19.Sp_35.SpCh"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_35.SpCh" name="SubModel: product: Copy hpo-results" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/product/scores.csv-\u003e${workingFolder}output/hpo/product/scores.csv&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_37.link" sourceRef="eval_18.SF_19.Sp_35.SpCh" targetRef="eval_18.SF_19.Sp_37.SpCrto"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_37.SpCrto" name="SubModel: product: Copy resources to output" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.CopyOutputResourcesTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="outputPath" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_39.link" sourceRef="eval_18.SF_19.Sp_37.SpCrto" targetRef="eval_18.SF_19.Sp_39.SpFE"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_39.SpFE" name="SubModel: product: (FE) Feature Extract" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
          <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.FeatureExtractionBuilder&quot;,&quot;name&quot;:&quot;SubModel: product: (FE) Feature Extract&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;metaDataFolder&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/&quot;,&quot;sequenceOfOutcomeProcessorClassName&quot;:&quot;com.workfusion.nlp.uima.annotator.ie.sequence.SequenceOfBIESOTagsProcessor&quot;,&quot;logFePerformanceStatistics&quot;:&quot;true&quot;,&quot;feConfigFolder&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/config/&quot;,&quot;trainingSetFolder&quot;:&quot;${workingFolder}work/split/full-eval/product/all-files.txt&quot;,&quot;resourcesDir&quot;:&quot;${workingFolder}output/resources/&quot;,&quot;mode&quot;:&quot;TRAINING&quot;,&quot;feOutputFolder&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/features/&quot;,&quot;languageModelFolder&quot;:&quot;${workingFolder}output/model/product/languageModel/&quot;,&quot;paramMetaDataHandlers&quot;:null,&quot;compressFeatures&quot;:&quot;true&quot;,&quot;experimentId&quot;:&quot;${bestExperiment}&quot;,&quot;fields&quot;:&quot;[{\&quot;code\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;type\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[{\&quot;code\&quot;:\&quot;product\&quot;,\&quot;type\&quot;:\&quot;LABEL\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:true,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}}],\&quot;properties\&quot;:{}}]&quot;}}"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:4.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.extract-fe&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_41.link" sourceRef="eval_18.SF_19.Sp_39.SpFE" targetRef="eval_18.SF_19.Sp_41.SpRS"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_41.SpRS" name="SubModel: product: (FE) Remap Split" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.cv.CvFileRemapTask"></activiti:formProperty>
          <activiti:formProperty id="sourceFolder" expression="${workingFolder}work/split/full-eval/product/"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="targetReplacementFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="appendSuffix" expression=".fe"></activiti:formProperty>
          <activiti:formProperty id="targeFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/split-fe/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_43.link" sourceRef="eval_18.SF_19.Sp_41.SpRS" targetRef="eval_18.SF_19.Sp_43.SpSF"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_43.SpSF" name="SubModel: product: (FE) Setup Folds" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SetupFoldsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="foldsVarName" expression="folds"></activiti:formProperty>
          <activiti:formProperty id="foldsNumber" expression="5"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_45.link" sourceRef="eval_18.SF_19.Sp_43.SpSF" targetRef="eval_18.SF_19.Sp_45.pFTE_1.split"></sequenceFlow>
      <parallelGateway id="eval_18.SF_19.Sp_45.pFTE_1.split" name="Split"></parallelGateway>
      <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_2.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_1.split" targetRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF"></sequenceFlow>
      <subProcess id="eval_18.SF_19.Sp_45.pFTE_2.FEPF" name="Full Eval Per Fold">
        <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="${folds}" activiti:elementVariable="foldNum"></multiInstanceLoopCharacteristics>
        <startEvent id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_1.start" name="Start">
          <extensionElements>
            <activiti:executionListener event="start" class="com.workfusion.nlp.uima.workflow.listener.SubProcessStartListener"></activiti:executionListener>
          </extensionElements>
        </startEvent>
        <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_2.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_1.start" targetRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_2.pAF"></sequenceFlow>
        <userTask id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_2.pAF" name="product: (FE) Aggregate/Convert Features" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="product/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/split-fe/fold${foldNum}/trainSet.txt"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.aggregate-fe&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_4.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_2.pAF" targetRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_4.pT"></sequenceFlow>
        <userTask id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_4.pT" name="product: (FE) Train" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
            <activiti:formProperty id="isEvalMode" expression="false"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="product/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
            <activiti:formProperty id="modelFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/folds/fold${foldNum}/model/"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:16384,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.train&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_6.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_4.pT" targetRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_6.pE"></sequenceFlow>
        <userTask id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_6.pE" name="product: (FE) Evaluate" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
            <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.ClassifyBuilder&quot;,&quot;name&quot;:&quot;product: (FE) Evaluate&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;detailedResults&quot;:&quot;${workingFolder}work/eval/evaluation-results/product/fold${foldNum}/&quot;,&quot;foldName&quot;:&quot;fold${foldNum}&quot;,&quot;outcomesFolder&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/outcomes/&quot;,&quot;metaDataFolder&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/&quot;,&quot;fieldName&quot;:&quot;product&quot;,&quot;classifyDetailedResults&quot;:&quot;${bestExperiment}&quot;,&quot;modelFolder&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/folds/fold${foldNum}/model/&quot;,&quot;featuresFolder&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/split-fe/fold${foldNum}/testSet.txt&quot;}}"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="product/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-eval.evaluate&quot;}}"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_8.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_6.pE" targetRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_8.pAR"></sequenceFlow>
        <userTask id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_8.pAR" name="product: Aggregate Results" activiti:candidateUsers="async-task-service">
          <extensionElements>
            <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CalculateFieldResultsTask"></activiti:formProperty>
            <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/product/fold${foldNum}/"></activiti:formProperty>
            <activiti:formProperty id="outputFileName" expression="evaluation-results.txt"></activiti:formProperty>
            <activiti:formProperty id="_context" expression="product/fold-${foldNum}"></activiti:formProperty>
            <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/folds/fold${foldNum}/evaluation-results/"></activiti:formProperty>
          </extensionElements>
        </userTask>
        <endEvent id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_10.end" name="End">
          <extensionElements>
            <activiti:executionListener event="end" class="com.workfusion.nlp.uima.workflow.listener.SubProcessEndListener"></activiti:executionListener>
          </extensionElements>
        </endEvent>
        <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_2.FEPF_11.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_8.pAR" targetRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF_10.end"></sequenceFlow>
      </subProcess>
      <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_4.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_2.FEPF" targetRef="eval_18.SF_19.Sp_45.pFTE_4.pCOS"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_45.pFTE_4.pCOS" name="product: (FE) Calc Overall Score" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.results.CalculateCrossValidationStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="experimentWorkingDirectory" expression="${workingFolder}work/eval/product/${bestExperiment}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_6.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_4.pCOS" targetRef="eval_18.SF_19.Sp_45.pFTE_6.pSSTT"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_45.pFTE_6.pSSTT" name="product: Save Stats To Tableau" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
          <activiti:formProperty id="saveExperimentId" expression="product"></activiti:formProperty>
          <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/product/"></activiti:formProperty>
          <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;wf-lab-ml-sdk-lesson-9-model:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="extractorsFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/config/parameters.json"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_8.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_6.pSSTT" targetRef="eval_18.SF_19.Sp_45.pFTE_8.join"></sequenceFlow>
      <parallelGateway id="eval_18.SF_19.Sp_45.pFTE_8.join" name="Join"></parallelGateway>
      <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_10.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_1.split" targetRef="eval_18.SF_19.Sp_45.pFTE_10.pAACF"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_45.pFTE_10.pAACF" name="product: (FT) Aggregate And Convert Features" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.builder.common.AggregateAndConvertFeaturesTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="compressFeatures" expression="true"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="featuresFolder" expression="${workingFolder}work/eval/product/${bestExperiment}/features/"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:4096,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-train.aggregate-fe&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_12.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_10.pAACF" targetRef="eval_18.SF_19.Sp_45.pFTE_12.pT"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_45.pFTE_12.pT" name="product: (FT) Train" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.train.TrainTask"></activiti:formProperty>
          <activiti:formProperty id="isEvalMode" expression="false"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="experimentId" expression="${bestExperiment}"></activiti:formProperty>
          <activiti:formProperty id="modelFolder" expression="${workingFolder}output/model/${hpoId}/model/"></activiti:formProperty>
          <activiti:formProperty id="_clusterJobParams" expression="{&quot;cpu&quot;:1.0,&quot;memoryMb&quot;:16384,&quot;allInOneJob&quot;:false,&quot;labels&quot;:{&quot;resource-type&quot;:&quot;train.full-train.train&quot;}}"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_45.pFTE_14.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_12.pT" targetRef="eval_18.SF_19.Sp_45.pFTE_8.join"></sequenceFlow>
      <sequenceFlow id="eval_18.SF_19.Sp_47.link" sourceRef="eval_18.SF_19.Sp_45.pFTE_8.join" targetRef="eval_18.SF_19.Sp_47.pC"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_47.pC" name="product: CopyDictionary" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/dictionaries/ -\u003e ${workingFolder}output/model/${hpoId}/dictionaries/&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_49.link" sourceRef="eval_18.SF_19.Sp_47.pC" targetRef="eval_18.SF_19.Sp_49.pEPC"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_49.pEPC" name="product: Extraction Pipeline Creation" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCreateExtractionPipelineTask"></activiti:formProperty>
          <activiti:formProperty id="egid" expression="training"></activiti:formProperty>
          <activiti:formProperty id="sequenceOfOutcomeProcessorClassName" expression="com.workfusion.nlp.uima.annotator.ie.sequence.SequenceOfBIESOTagsProcessor"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="checkerModelFolder" expression="${workingFolder}output/model/${hpoId}/checker-model/"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_51.link" sourceRef="eval_18.SF_19.Sp_49.pEPC" targetRef="eval_18.SF_19.Sp_51.pPmi"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_51.pPmi" name="product: Print meta information" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.info.PrintMetaInfoTask"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
          <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/${hpoId}/"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_53.link" sourceRef="eval_18.SF_19.Sp_51.pPmi" targetRef="eval_18.SF_19.Sp_53.SpCat"></sequenceFlow>
      <userTask id="eval_18.SF_19.Sp_53.SpCat" name="SubModel: product: CleanUpAndCopy avg-evaluation-results.txt" activiti:candidateUsers="async-task-service">
        <extensionElements>
          <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
          <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/config/ -\u003e ${workingFolder}output/model/${hpoId}/config/&quot;},{&quot;operation&quot;:&quot;MOVE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/avg-evaluation-results.txt -\u003e ${workingFolder}output/model/product/avg-evaluation-results.txt&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/pre-eval/product/&quot;,&quot;executionProfile&quot;:&quot;PRODUCTION&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/product/${bestExperiment}/folds/&quot;,&quot;executionProfile&quot;:&quot;DEBUG&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.liblinear&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.liblinear&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/training-data.vw&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}output/model/${hpoId}/model/model.vw&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/meta-data/${hpoId}/Replacer/&quot;},{&quot;operation&quot;:&quot;DELETE&quot;,&quot;parameters&quot;:&quot;${workingFolder}work/eval/product/&quot;,&quot;executionProfile&quot;:&quot;PRODUCTION&quot;}]"></activiti:formProperty>
          <activiti:formProperty id="_context" expression="product"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <sequenceFlow id="eval_18.SF_19.Sp_55.link" sourceRef="eval_18.SF_19.Sp_53.SpCat" targetRef="eval_18.SF_19.Sp_8.end"></sequenceFlow>
    </subProcess>
    <sequenceFlow id="eval_18.SF_21.link" sourceRef="eval_18.SF_19.Sp" targetRef="finish_eval_18.SF.3"></sequenceFlow>
    <intermediateThrowEvent id="finish_eval_18.SF.3" name="Release: SubModel Flow">
      <extensionElements>
        <activiti:executionListener event="start" class="com.workfusion.vds.workflow.semaphore.listener.SemaphoreReleaseListener">
          <activiti:field name="semaphoreId">
            <activiti:string><![CDATA[eval_18.SF]]></activiti:string>
          </activiti:field>
          <activiti:field name="processId">
            <activiti:string><![CDATA[semaphore_eval_18.SF_3]]></activiti:string>
          </activiti:field>
        </activiti:executionListener>
      </extensionElements>
      <signalEventDefinition signalRef="semaphore_eval_18.SF_3"></signalEventDefinition>
    </intermediateThrowEvent>
    <sequenceFlow id="eval_18.SF_23.link" sourceRef="finish_eval_18.SF.3" targetRef="eval_18.SF_8.join"></sequenceFlow>
    <sequenceFlow id="eval_20.link" sourceRef="eval_18.SF_8.join" targetRef="eval_20.CE"></sequenceFlow>
    <userTask id="eval_20.CE" name="Composite Extract" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.extract.IeCompositeExtractionPipelineTask"></activiti:formProperty>
        <activiti:formProperty id="outputDir" expression="${workingFolder}output/"></activiti:formProperty>
        <activiti:formProperty id="postProcessors" expression="{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;com.workfusion.lab.lesson9.process.TotalAmountPostProcessor&quot;},{&quot;@type&quot;:&quot;com.workfusion.lab.lesson9.process.Assignment7ExpandPostProcessor&quot;}]}"></activiti:formProperty>
        <activiti:formProperty id="egid'" expression="training"></activiti:formProperty>
        <activiti:formProperty id="subModelsJson" expression="[&quot;INFO_EXTRACTION&quot;,&quot;client_name&quot;,&quot;price&quot;,&quot;product&quot;]"></activiti:formProperty>
        <activiti:formProperty id="compositeAnnotatorClass" expression="{&quot;@type&quot;:&quot;class&quot;,&quot;value&quot;:&quot;com.workfusion.nlp.uima.workflow.task.extract.IeCompositeAnnotatorDecorator&quot;}"></activiti:formProperty>
        <activiti:formProperty id="fields" expression="[{&quot;code&quot;:&quot;INFO_EXTRACTION&quot;,&quot;type&quot;:&quot;INFO_EXTRACTION&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:[{&quot;code&quot;:&quot;client_name&quot;,&quot;type&quot;:&quot;COMPANY&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:[],&quot;properties&quot;:{}},{&quot;code&quot;:&quot;price&quot;,&quot;type&quot;:&quot;PRICE&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}},{&quot;code&quot;:&quot;product&quot;,&quot;type&quot;:&quot;LABEL&quot;,&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:[],&quot;properties&quot;:{}}],&quot;properties&quot;:{}}]"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/"></activiti:formProperty>
        <activiti:formProperty id="modelDir" expression="${workingFolder}output/model/"></activiti:formProperty>
        <activiti:formProperty id="documentParser" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.DocumentParserImpl&quot;,&quot;preprocessors&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;goldAnnotator&quot;:{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.DocumentParserConfiguration$1&quot;,&quot;this$0&quot;:null},&quot;documentReader&quot;:{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.IeDocumentReader&quot;,&quot;sourceView&quot;:null},&quot;tagAnnotationParsing&quot;:true,&quot;filterClasses&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;class&quot;,&quot;value&quot;:&quot;com.workfusion.nlp.uima.annotator.ie.IeWhitespaceFilter&quot;}]},&quot;goldTags&quot;:{&quot;@type&quot;:&quot;java.util.HashSet&quot;}}"></activiti:formProperty>
        <activiti:formProperty id="preprocessorConfigurations" expression="[{&quot;preProcessorClassName&quot;:&quot;com.workfusion.nlp.uima.preprocessor.SpaceRemovingPreprocessor&quot;,&quot;params&quot;:{},&quot;applicableTypes&quot;:[]},{&quot;preProcessorClassName&quot;:&quot;com.workfusion.nlp.uima.preprocessor.MetaManualTagRemovingPreprocessor&quot;,&quot;params&quot;:{},&quot;applicableTypes&quot;:[]}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_22.link" sourceRef="eval_20.CE" targetRef="eval_22.Caf"></sequenceFlow>
    <userTask id="eval_22.Caf" name="Combine avg-results files" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.CombineAverageResults"></activiti:formProperty>
        <activiti:formProperty id="modelsMap" expression="[&quot;INFO_EXTRACTION&quot;,&quot;client_name&quot;,&quot;price&quot;,&quot;product&quot;]"></activiti:formProperty>
        <activiti:formProperty id="resultDir" expression="${workingFolder}output/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_24.link" sourceRef="eval_22.Caf" targetRef="eval_24.CcsaP"></sequenceFlow>
    <userTask id="eval_24.CcsaP" name="Calculate custom statistics and Post-Process" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.vds.nlp.statistics.CalculateIeStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="outputDir" expression="${workingFolder}output/"></activiti:formProperty>
        <activiti:formProperty id="fileds" expression="{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.api.nlp.configuration.FieldInfo&quot;,&quot;code&quot;:&quot;INFO_EXTRACTION&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;INFO_EXTRACTION&quot;},&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.api.nlp.configuration.FieldInfo&quot;,&quot;code&quot;:&quot;client_name&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;COMPANY&quot;},&quot;required&quot;:true,&quot;multiValue&quot;:false,&quot;children&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;properties&quot;:{&quot;@type&quot;:&quot;com.google.gson.internal.LinkedTreeMap&quot;}},{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.api.nlp.configuration.FieldInfo&quot;,&quot;code&quot;:&quot;price&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;PRICE&quot;},&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;properties&quot;:{&quot;@type&quot;:&quot;com.google.gson.internal.LinkedTreeMap&quot;}},{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.api.nlp.configuration.FieldInfo&quot;,&quot;code&quot;:&quot;product&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;LABEL&quot;},&quot;required&quot;:true,&quot;multiValue&quot;:true,&quot;children&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;properties&quot;:{&quot;@type&quot;:&quot;com.google.gson.internal.LinkedTreeMap&quot;}}]},&quot;properties&quot;:{&quot;@type&quot;:&quot;com.google.gson.internal.LinkedTreeMap&quot;}}]}"></activiti:formProperty>
        <activiti:formProperty id="calculateRawStatistics" expression="{&quot;@type&quot;:&quot;boolean&quot;,&quot;value&quot;:true}"></activiti:formProperty>
        <activiti:formProperty id="postProcessorsDataConfiguration" expression="{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;com.workfusion.lab.lesson9.process.TotalAmountPostProcessor&quot;},{&quot;@type&quot;:&quot;com.workfusion.lab.lesson9.process.Assignment7ExpandPostProcessor&quot;}]}"></activiti:formProperty>
        <activiti:formProperty id="statisticsCalculators" expression="{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.nlp.component.statistics.IeStatisticsCalculator&quot;,&quot;fieldResultMappers&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;groupResultMappers&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;evaluationTypes&quot;:{&quot;@type&quot;:&quot;java.util.RegularEnumSet&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.nlp.component.statistics.StatisticsEvaluationType&quot;,&quot;name&quot;:&quot;VALUE_BASED&quot;}]},&quot;fieldNames&quot;:null,&quot;printers&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.nlp.component.statistics.printer.IeGoldVsExtractedCSVPrinter&quot;,&quot;filePerField&quot;:false},{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.nlp.component.statistics.printer.IeGoldVsExtractedPerGroupCSVPrinter&quot;,&quot;filePerField&quot;:false},{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.nlp.component.statistics.printer.IePerFieldCSVPrinter&quot;},{&quot;@type&quot;:&quot;com.workfusion.vds.sdk.nlp.component.statistics.printer.IePerGroupFieldCSVPrinter&quot;}]},&quot;output&quot;:null}]}"></activiti:formProperty>
        <activiti:formProperty id="evalMetaDataDir" expression="${workingFolder}work/eval/meta-data/"></activiti:formProperty>
        <activiti:formProperty id="resourcesDir" expression="${workingFolder}output/resources/"></activiti:formProperty>
        <activiti:formProperty id="inputDir" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="documentParser" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.DocumentParserImpl&quot;,&quot;preprocessors&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;goldAnnotator&quot;:{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.DocumentParserConfiguration$1&quot;,&quot;this$0&quot;:null},&quot;documentReader&quot;:{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.IeDocumentReader&quot;,&quot;sourceView&quot;:null},&quot;tagAnnotationParsing&quot;:true,&quot;filterClasses&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;class&quot;,&quot;value&quot;:&quot;com.workfusion.nlp.uima.annotator.ie.IeWhitespaceFilter&quot;}]},&quot;goldTags&quot;:{&quot;@type&quot;:&quot;java.util.HashSet&quot;}}"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_26.link" sourceRef="eval_24.CcsaP" targetRef="eval_26.MDOB"></sequenceFlow>
    <userTask id="eval_26.MDOB" name="Meta Data Output Builder" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
        <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.MetaDataCompositeBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.nlp.uima.workflow.model.ie.pipeline.MetaDataCompositeBuilder&quot;,&quot;name&quot;:&quot;Meta Data Output Builder&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;testFilesDir&quot;:&quot;${workingFolder}input/training-set/&quot;,&quot;paramMetaDataHandlers&quot;:null,&quot;subModelsJson&quot;:&quot;[\&quot;INFO_EXTRACTION\&quot;,\&quot;client_name\&quot;,\&quot;price\&quot;,\&quot;product\&quot;]&quot;,&quot;compositeResultAnnotators&quot;:null,&quot;evalMetaDataDir&quot;:&quot;${workingFolder}work/eval/meta-data/&quot;,&quot;documentParser&quot;:&quot;{\&quot;@type\&quot;:\&quot;com.workfusion.nlp.uima.docparser.DocumentParserImpl\&quot;,\&quot;preprocessors\&quot;:{\&quot;@type\&quot;:\&quot;java.util.ArrayList\&quot;},\&quot;goldAnnotator\&quot;:{\&quot;@type\&quot;:\&quot;com.workfusion.nlp.uima.docparser.DocumentParserConfiguration$1\&quot;,\&quot;this$0\&quot;:null},\&quot;documentReader\&quot;:{\&quot;@type\&quot;:\&quot;com.workfusion.nlp.uima.docparser.IeDocumentReader\&quot;,\&quot;sourceView\&quot;:null},\&quot;tagAnnotationParsing\&quot;:true,\&quot;filterClasses\&quot;:{\&quot;@type\&quot;:\&quot;java.util.ArrayList\&quot;,\&quot;@items\&quot;:[{\&quot;@type\&quot;:\&quot;class\&quot;,\&quot;value\&quot;:\&quot;com.workfusion.nlp.uima.annotator.ie.IeWhitespaceFilter\&quot;}]},\&quot;goldTags\&quot;:{\&quot;@type\&quot;:\&quot;java.util.HashSet\&quot;}}&quot;}}"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_28.link" sourceRef="eval_26.MDOB" targetRef="eval_28.Pd"></sequenceFlow>
    <userTask id="eval_28.Pd" name="Post-process documents" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.pipeline.PipelineWrapperTask"></activiti:formProperty>
        <activiti:formProperty id="pipelineDescriptor" expression="{&quot;@type&quot;:&quot;com.workfusion.vds.nlp.postprocess.task.DocumentPostProcessBuilder$Descriptor&quot;,&quot;pipelineTask&quot;:&quot;com.workfusion.vds.nlp.postprocess.task.DocumentPostProcessBuilder&quot;,&quot;name&quot;:&quot;Post-process documents&quot;,&quot;params&quot;:{&quot;@type&quot;:&quot;java.util.HashMap&quot;,&quot;postProcessors&quot;:&quot;{\&quot;@type\&quot;:\&quot;java.util.ArrayList\&quot;,\&quot;@items\&quot;:[{\&quot;@type\&quot;:\&quot;com.workfusion.lab.lesson9.process.TotalAmountPostProcessor\&quot;},{\&quot;@type\&quot;:\&quot;com.workfusion.lab.lesson9.process.Assignment7ExpandPostProcessor\&quot;}]}&quot;,&quot;paramTargetDir&quot;:&quot;${workingFolder}work/eval/meta-data/_post-processed-results/&quot;,&quot;paramSourceDir&quot;:&quot;${workingFolder}work/eval/meta-data/_model-results/&quot;,&quot;evalMetaDataDir&quot;:&quot;${workingFolder}work/eval/meta-data/&quot;,&quot;fields&quot;:&quot;[{\&quot;code\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;type\&quot;:\&quot;INFO_EXTRACTION\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[{\&quot;code\&quot;:\&quot;client_name\&quot;,\&quot;type\&quot;:\&quot;COMPANY\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:false,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}},{\&quot;code\&quot;:\&quot;price\&quot;,\&quot;type\&quot;:\&quot;PRICE\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:true,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}},{\&quot;code\&quot;:\&quot;product\&quot;,\&quot;type\&quot;:\&quot;LABEL\&quot;,\&quot;required\&quot;:true,\&quot;multiValue\&quot;:true,\&quot;children\&quot;:[],\&quot;properties\&quot;:{}}],\&quot;properties\&quot;:{}}]&quot;,&quot;resourcesDir&quot;:&quot;${workingFolder}output/resources/&quot;}}"></activiti:formProperty>
        <activiti:formProperty id="documentParser" expression="{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.DocumentParserImpl&quot;,&quot;preprocessors&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;},&quot;goldAnnotator&quot;:{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.DocumentParserConfiguration$1&quot;,&quot;this$0&quot;:null},&quot;documentReader&quot;:{&quot;@type&quot;:&quot;com.workfusion.nlp.uima.docparser.IeDocumentReader&quot;,&quot;sourceView&quot;:null},&quot;tagAnnotationParsing&quot;:true,&quot;filterClasses&quot;:{&quot;@type&quot;:&quot;java.util.ArrayList&quot;,&quot;@items&quot;:[{&quot;@type&quot;:&quot;class&quot;,&quot;value&quot;:&quot;com.workfusion.nlp.uima.annotator.ie.IeWhitespaceFilter&quot;}]},&quot;goldTags&quot;:{&quot;@type&quot;:&quot;java.util.HashSet&quot;}}"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_30.link" sourceRef="eval_28.Pd" targetRef="eval_30.Crdr"></sequenceFlow>
    <userTask id="eval_30.Crdr" name="Combine raw detailed results" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.model.classify.task.CombineIeDetailedResultsTask"></activiti:formProperty>
        <activiti:formProperty id="subModels" expression="[&quot;INFO_EXTRACTION&quot;,&quot;client_name&quot;,&quot;price&quot;,&quot;product&quot;]"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-raw-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_32.link" sourceRef="eval_30.Crdr" targetRef="eval_32.SRSTT"></sequenceFlow>
    <userTask id="eval_32.SRSTT" name="Save Raw Stats To Tableau" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="saveExperimentId" expression="combined-raw-results"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-raw-results/"></activiti:formProperty>
        <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;wf-lab-ml-sdk-lesson-9-model:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
        <activiti:formProperty id="extractorsFolder"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_34.link" sourceRef="eval_32.SRSTT" targetRef="eval_34.BRbTD"></sequenceFlow>
    <userTask id="eval_34.BRbTD" name="Build Results by Tagged Docs" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ConvertTaggedDocumentsToDocumentResultsTask"></activiti:formProperty>
        <activiti:formProperty id="inputOriginalFolder" expression="${workingFolder}input/training-set/"></activiti:formProperty>
        <activiti:formProperty id="inputProcessedFolder" expression="${workingFolder}work/eval/meta-data/_post-processed-results/"></activiti:formProperty>
        <activiti:formProperty id="subModelsJson" expression="[&quot;INFO_EXTRACTION&quot;,&quot;client_name&quot;,&quot;price&quot;,&quot;product&quot;]"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_36.link" sourceRef="eval_34.BRbTD" targetRef="eval_36.Sbe"></sequenceFlow>
    <userTask id="eval_36.Sbe" name="Save best experiment" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.experiment.SaveBestExperimentTask"></activiti:formProperty>
        <activiti:formProperty id="outputDir" expression="${workingFolder}output/"></activiti:formProperty>
        <activiti:formProperty id="experimentId" expression="combined-results"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_38.link" sourceRef="eval_36.Sbe" targetRef="eval_38.Sfjtf"></sequenceFlow>
    <userTask id="eval_38.Sfjtf" name="Save fields json to file" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.SaveParameterToFileTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}output/model/fields.json"></activiti:formProperty>
        <activiti:formProperty id="parameterName" expression="fields"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_40.link" sourceRef="eval_38.Sfjtf" targetRef="eval_40.SSTT"></sequenceFlow>
    <userTask id="eval_40.SSTT" name="Save Stats To Tableau" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.tableau.SaveStatisticsTask"></activiti:formProperty>
        <activiti:formProperty id="saveExperimentId" expression="combined-results"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/combined-results/"></activiti:formProperty>
        <activiti:formProperty id="experimentSteps" expression="[{&quot;name&quot;:&quot;wf-lab-ml-sdk-lesson-9-model:1.0&quot;,&quot;fileSuffix&quot;:&quot;.results.json&quot;,&quot;parserType&quot;:&quot;CRF_JSON&quot;}]"></activiti:formProperty>
        <activiti:formProperty id="storeScoreAccuracy" expression="true"></activiti:formProperty>
        <activiti:formProperty id="extractorsFolder"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_42.link" sourceRef="eval_40.SSTT" targetRef="eval_42.TSASF_1.split"></sequenceFlow>
    <parallelGateway id="eval_42.TSASF_1.split" name="Split"></parallelGateway>
    <sequenceFlow id="eval_42.TSASF_2.link" sourceRef="eval_42.TSASF_1.split" targetRef="eval_42.TSASF_2.TSAMfcS"></sequenceFlow>
    <userTask id="eval_42.TSASF_2.TSAMfcS" name="Train Score Accuracy Model for client_name SubModel" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.accuracy.TrainScoreAccuracyModelTask"></activiti:formProperty>
        <activiti:formProperty id="inputFile" expression="${workingFolder}work/eval/evaluation-results/combined-results/client_name.csv"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/client_name/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_42.TSASF_4.link" sourceRef="eval_42.TSASF_2.TSAMfcS" targetRef="eval_42.TSASF_4.join"></sequenceFlow>
    <parallelGateway id="eval_42.TSASF_4.join" name="Join"></parallelGateway>
    <sequenceFlow id="eval_42.TSASF_6.link" sourceRef="eval_42.TSASF_1.split" targetRef="eval_42.TSASF_6.TSAMfpS"></sequenceFlow>
    <userTask id="eval_42.TSASF_6.TSAMfpS" name="Train Score Accuracy Model for price SubModel" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.accuracy.TrainScoreAccuracyModelTask"></activiti:formProperty>
        <activiti:formProperty id="inputFile" expression="${workingFolder}work/eval/evaluation-results/combined-results/price.csv"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/price/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_42.TSASF_8.link" sourceRef="eval_42.TSASF_6.TSAMfpS" targetRef="eval_42.TSASF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_42.TSASF_9.link" sourceRef="eval_42.TSASF_1.split" targetRef="eval_42.TSASF_9.TSAMfpS"></sequenceFlow>
    <userTask id="eval_42.TSASF_9.TSAMfpS" name="Train Score Accuracy Model for product SubModel" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.accuracy.TrainScoreAccuracyModelTask"></activiti:formProperty>
        <activiti:formProperty id="inputFile" expression="${workingFolder}work/eval/evaluation-results/combined-results/product.csv"></activiti:formProperty>
        <activiti:formProperty id="outputFolder" expression="${workingFolder}output/model/product/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_42.TSASF_11.link" sourceRef="eval_42.TSASF_9.TSAMfpS" targetRef="eval_42.TSASF_4.join"></sequenceFlow>
    <sequenceFlow id="eval_44.link" sourceRef="eval_42.TSASF_4.join" targetRef="eval_44.Zdr"></sequenceFlow>
    <userTask id="eval_44.Zdr" name="Zip detailed results" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ArchiveDirectoryTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}output/evaluation-results.zip"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/evaluation-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_46.link" sourceRef="eval_44.Zdr" targetRef="eval_46.Zmr"></sequenceFlow>
    <userTask id="eval_46.Zmr" name="Zip model results" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ArchiveDirectoryTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}output/model-results.zip"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/meta-data/_model-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_48.link" sourceRef="eval_46.Zmr" targetRef="eval_48.Zmpr"></sequenceFlow>
    <userTask id="eval_48.Zmpr" name="Zip model post-processed results" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.ArchiveDirectoryTask"></activiti:formProperty>
        <activiti:formProperty id="outputFile" expression="${workingFolder}output/post-processed-results.zip"></activiti:formProperty>
        <activiti:formProperty id="inputFolder" expression="${workingFolder}work/eval/meta-data/_post-processed-results/"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="eval_50.link" sourceRef="eval_48.Zmpr" targetRef="eval_50.Crtod"></sequenceFlow>
    <userTask id="eval_50.Crtod" name="Copy resources to output dir" activiti:candidateUsers="async-task-service">
      <extensionElements>
        <activiti:formProperty id="_taskClass" expression="com.workfusion.nlp.uima.workflow.task.util.FileUtilTask"></activiti:formProperty>
        <activiti:formProperty id="paramCommands" expression="[{&quot;operation&quot;:&quot;COPY_OPTIONAL&quot;,&quot;parameters&quot;:&quot;${workingFolder}input/resources/lookup/ -\u003e ${workingFolder}output/model/resources/lookup/&quot;}]"></activiti:formProperty>
      </extensionElements>
    </userTask>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_eval">
    <bpmndi:BPMNPlane bpmnElement="eval" id="BPMNPlane_eval"></bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>